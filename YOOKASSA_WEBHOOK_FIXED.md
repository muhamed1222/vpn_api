# ‚úÖ YOOKASSA WEBHOOK –ò–°–ü–†–ê–í–õ–ï–ù!

**–î–∞—Ç–∞:** 2025-01-18 05:10  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–Å –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

---

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### ‚ùå –°—Ç–∞—Ä—ã–π URL (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):
```
https://vpn.outlivion.space/webhook/payment/yukassa
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω (`vpn` –≤–º–µ—Å—Ç–æ `api`)
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å (`/webhook/payment/yukassa`)
- Webhook –ù–ï –¥–æ—Ö–æ–¥–∏–ª –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
- –ë–∏–ª–µ—Ç—ã –ù–ï –Ω–∞—á–∏—Å–ª—è–ª–∏—Å—å

---

### ‚úÖ –ù–æ–≤—ã–π URL (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):
```
https://api.outlivion.space/v1/payments/webhook
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω (`api.outlivion.space`)
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å (`/v1/payments/webhook`)
- Webhook –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
- –ë–∏–ª–µ—Ç—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## –°–æ–±—ã—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

‚úÖ `payment.succeeded` - –£—Å–ø–µ—à–Ω—ã–π –ø–ª–∞—Ç—ë–∂  
‚úÖ `payment.canceled` - –û—Ç–º–µ–Ω–∞ –ø–ª–∞—Ç–µ–∂–∞

---

## –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è Telegram Payments (Stars):
‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** - –±–æ—Ç –≤ POLLING —Ä–µ–∂–∏–º–µ, —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç

### –î–ª—è YooKassa (—Å–∞–π—Ç/miniapp):
‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** - webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –±–∏–ª–µ—Ç—ã –±—É–¥—É—Ç –Ω–∞—á–∏—Å–ª—è—Ç—å—Å—è

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ

### –°—Ö–µ–º–∞ –¥–ª—è YooKassa:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫—É–ø–∞–µ—Ç —Ç–∞—Ä–∏—Ñ –Ω–∞ —Å–∞–π—Ç–µ
    ‚Üì
–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ YooKassa
    ‚Üì
–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π
    ‚Üì
YooKassa –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook –Ω–∞:
https://api.outlivion.space/v1/payments/webhook
    ‚Üì
API –ø–æ–ª—É—á–∞–µ—Ç webhook (event: payment.succeeded)
    ‚Üì
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–∫–∞–∑ –≤ –ë–î
    ‚Üì
–í—ã–∑—ã–≤–∞–µ—Ç awardTicketsForPayment(orderId)
    ‚Üì
–ù–∞—á–∏—Å–ª—è–µ—Ç –±–∏–ª–µ—Ç—ã –∑–∞ –ø–æ–∫—É–ø–∫—É:
  - SELF_PURCHASE (–ø–æ–∫—É–ø–∞—Ç–µ–ª—é)
  - INVITEE_PAYMENT (—Ä–µ—Ñ–µ—Ä–µ—Ä—É, –µ—Å–ª–∏ –µ—Å—Ç—å)
    ‚Üì
‚úÖ –ë–∏–ª–µ—Ç—ã –Ω–∞—á–∏—Å–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
```

---

### –°—Ö–µ–º–∞ –¥–ª—è Telegram Payments:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫—É–ø–∞–µ—Ç —Ç–∞—Ä–∏—Ñ –≤ –±–æ—Ç–µ
    ‚Üì
–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Telegram Stars
    ‚Üì
Telegram Bot API (polling)
    ‚Üì
–ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç event: successful_payment
    ‚Üì
–í—ã–∑—ã–≤–∞–µ—Ç OrderProcessingService.processPayment()
    ‚Üì
–í—ã–∑—ã–≤–∞–µ—Ç ContestService.awardSelfPurchaseTicket()
    ‚Üì
‚úÖ –ë–∏–ª–µ—Ç—ã –Ω–∞—á–∏—Å–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç #1: YooKassa (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

**–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç `https://my.outlivion.space` –∏–ª–∏ miniapp
2. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π —Ç–∞—Ä–∏—Ñ (–∫—Ä–æ–º–µ 7 –¥–Ω–µ–π)
3. –û–ø–ª–∞—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ YooKassa (–±–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞)
4. –°—Ä–∞–∑—É –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∏–ª–µ—Ç—ã –≤ –±–æ—Ç–µ

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ –ë–∏–ª–µ—Ç—ã –Ω–∞—á–∏—Å–ª—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —Å–µ–∫—É–Ω–¥
- ‚úÖ –í—ã —É–≤–∏–¥–∏—Ç–µ **17 –±–∏–ª–µ—Ç–æ–≤** (–±—ã–ª–æ 16)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
```bash
ssh root@72.56.93.135 "journalctl -u outlivion-api.service -f | grep -E 'webhook|payment|ticket|award'"
```

---

### –¢–µ—Å—Ç #2: Telegram Payments (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

**–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π —Ç–∞—Ä–∏—Ñ
3. –û–ø–ª–∞—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram Stars
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∏–ª–µ—Ç—ã –≤ –±–æ—Ç–µ

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ –ë–∏–ª–µ—Ç—ã –Ω–∞—á–∏—Å–ª—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –í –ª–æ–≥–∞—Ö –ø–æ—è–≤—è—Ç—Å—è —Å—Ç—Ä–æ–∫–∏ —Å `[TELEGRAM_PAYMENT] üöÄ`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
```bash
ssh root@72.56.93.135 "tail -f /root/vpn_bot/bot.log | grep TELEGRAM_PAYMENT"
```

---

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –≤ —ç—Ç–æ–º —Å–µ–∞–Ω—Å–µ

### 1. ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω—ã –±–∏–ª–µ—Ç—ã –≤—Ä—É—á–Ω—É—é
- **–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** 11 –±–∏–ª–µ—Ç–æ–≤
- **–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã:** 5
- **–ù–∞—á–∏—Å–ª–µ–Ω–æ:** +5 –±–∏–ª–µ—Ç–æ–≤
- **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** **16 –±–∏–ª–µ—Ç–æ–≤**

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Telegram Payments
- –í–∫–ª—é—á–µ–Ω POLLING —Ä–µ–∂–∏–º (`TELEGRAM_USE_POLLING=1`)
- –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- Webhook —É–¥–∞–ª–µ–Ω

### 3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω YooKassa Webhook
- –û–±–Ω–∞—Ä—É–∂–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL
- URL –∏–∑–º–µ–Ω–µ–Ω –≤ YooKassa –∫–∞–±–∏–Ω–µ—Ç–µ
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–æ–±—ã—Ç–∏—è (`payment.succeeded`, `payment.canceled`)

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|-----------|----------------|-------------------|
| **–ë–∏–ª–µ—Ç—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | 11 (–ø—Ä–æ–ø—É—â–µ–Ω–æ 5) | 16 (–Ω–∞—á–∏—Å–ª–µ–Ω–æ –≤—Ä—É—á–Ω—É—é) |
| **Telegram Payments** | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–ª | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **YooKassa Webhook** | ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL |
| **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ** | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–ª–æ | ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç—É |

---

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----------|----------|
| `/root/vpn_bot/.env` | `TELEGRAM_USE_POLLING=1` | –í–∫–ª—é—á–µ–Ω polling –¥–ª—è –±–æ—Ç–∞ |
| `/root/vpn_bot/server.ts` | –î–æ–±–∞–≤–ª–µ–Ω DEBUG –ª–æ–≥ | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–µ–∂–∏–º–∞ |
| `/root/vpn_bot/src/bot/index.ts` | –õ–æ–≥–∏ –≤ `successful_payment` | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Telegram Payments |
| `/root/vpn_bot/src/services/orderProcessingService.ts` | –õ–æ–≥–∏ –≤ `activateOrder` | –û–±—â–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| **YooKassa –∫–∞–±–∏–Ω–µ—Ç** | **URL webhook –∏–∑–º–µ–Ω–µ–Ω** | **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞** |

---

## –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏

### YooKassa (–≤ journalctl API):
```
[Webhook] Received webhook from YooKassa
[Webhook] Event: payment.succeeded
[Webhook] Order ID: ord_xxx
[Payments] Starting ticket award for order ord_xxx
[ContestUtils] Awarded SELF_PURCHASE ticket: +1 for user 782245481
[Payments] Successfully awarded tickets for payment ord_xxx
```

### Telegram Payments (–≤ bot.log):
```
[TELEGRAM_PAYMENT] üöÄ Received successful_payment event: { userId: 782245481, paymentChargeId: 'xxx' }
[TELEGRAM_PAYMENT] üéØ About to call processPayment: { orderId: 'ord_xxx', ... }
üí∞ Processing payment for Order ord_xxx. Charge ID: xxx
[OrderProcessing] üîµ activateOrder called for order ord_xxx
[OrderProcessing] ‚úÖ Successfully awarded self-purchase ticket for COMPLETED order ord_xxx
[TELEGRAM_PAYMENT] ‚úÖ processPayment completed successfully for order: ord_xxx
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–ª–µ—Ç–æ–≤

### –°–ø–æ—Å–æ–± 1: –í –±–æ—Ç–µ
- –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞
- –ù–∞–∂–º–∏—Ç–µ "üéâ –†–æ–∑—ã–≥—Ä—ã—à"
- –°–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ SQL
```bash
ssh root@72.56.93.135 'sqlite3 /root/vpn_bot/data/database.sqlite "
SELECT SUM(delta) as total_tickets 
FROM ticket_ledger 
WHERE referrer_id = 782245481 
  AND contest_id = '\''550e8400-e29b-41d4-a716-446655440000'\'';
"'
```

**–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** 16 –±–∏–ª–µ—Ç–æ–≤  
**–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏:** 17 –±–∏–ª–µ—Ç–æ–≤

---

## Troubleshooting

### –ï—Å–ª–∏ –±–∏–ª–µ—Ç—ã –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å –ø–æ—Å–ª–µ YooKassa:

**1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ API:**
```bash
ssh root@72.56.93.135 "journalctl -u outlivion-api.service -n 100 | grep -E 'webhook|payment'"
```

**–ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ YooKassa –∫–∞–±–∏–Ω–µ—Ç–µ –µ—â–µ —Ä–∞–∑
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `payment.succeeded` –≤–∫–ª—é—á–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç: `systemctl status outlivion-api.service`

**2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–∫–∞–∑:**
```bash
ssh root@72.56.93.135 'sqlite3 /root/vpn_bot/data/database.sqlite "
SELECT id, status, datetime(created_at/1000, '\''unixepoch'\'')
FROM orders 
WHERE user_id = 782245481 
ORDER BY created_at DESC 
LIMIT 1;
"'
```

**3. –ù–∞—á–∏—Å–ª–∏—Ç—å –±–∏–ª–µ—Ç –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ webhook –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª):**
```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ ORDER_ID –Ω–∞ ID –∑–∞–∫–∞–∑–∞ –∏–∑ —à–∞–≥–∞ 2
ssh root@72.56.93.135 'sqlite3 /root/vpn_bot/data/database.sqlite "
INSERT INTO ticket_ledger (id, contest_id, referrer_id, referred_id, order_id, delta, reason, created_at)
VALUES (
  '\''ticket_ORDER_ID_'\'' || strftime('\''%s'\'', '\''now'\'') || '\''000'\'',
  '\''550e8400-e29b-41d4-a716-446655440000'\'',
  782245481,
  782245481,
  '\''ORDER_ID'\'',
  1,
  '\''SELF_PURCHASE'\'',
  datetime('\''now'\'')
);
"'
```

---

### –ï—Å–ª–∏ –±–∏–ª–µ—Ç—ã –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å –ø–æ—Å–ª–µ Telegram Stars:

**1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞:**
```bash
ssh root@72.56.93.135 "tail -100 /root/vpn_bot/bot.log | grep TELEGRAM_PAYMENT"
```

**–ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Polling –≤–∫–ª—é—á–µ–Ω: `grep TELEGRAM_USE_POLLING /root/vpn_bot/.env`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `systemctl restart vpn-bot`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `systemctl status vpn-bot`

**2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–∫–∞–∑ –∏ –Ω–∞—á–∏—Å–ª–∏—Ç—å –≤—Ä—É—á–Ω—É—é** (—Å–º. –≤—ã—à–µ)

---

## –°–æ–∑–¥–∞–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

1. `BOT_FIX_COMPLETE_REPORT.md` - –ø–µ—Ä–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞
2. `CRITICAL_FIX_TELEGRAM_PAYMENTS.md` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Telegram Payments
3. `POLLING_ENABLED_SUCCESS.md` - –≤–∫–ª—é—á–µ–Ω–∏–µ Polling —Ä–µ–∂–∏–º–∞
4. `TWO_PAYMENT_PROBLEMS_FOUND.md` - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥–≤—É—Ö –ø—Ä–æ–±–ª–µ–º
5. `FINAL_SUMMARY_TICKET_FIX.md` - –∏—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞
6. `YOOKASSA_WEBHOOK_FIXED.md` - —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

‚úÖ **–í–°–Å –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ì–û–¢–û–í–û!**

| –°–∏—Å—Ç–µ–º–∞ | –°—Ç–∞—Ç—É—Å | –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç—É |
|---------|--------|----------------|
| Telegram Payments | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –î–∞ |
| YooKassa Webhook | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –î–∞ |
| –†—É—á–Ω–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è |
| –ë–∏–ª–µ—Ç—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | 16 | +5 –Ω–∞—á–∏—Å–ª–µ–Ω–æ |

---

## –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

**üéØ –°–î–ï–õ–ê–ô–¢–ï –¢–ï–°–¢–û–í–£–Æ –ü–û–ö–£–ü–ö–£ –ß–ï–†–ï–ó YOOKASSA!**

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –∏–ª–∏ miniapp
2. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π —Ç–∞—Ä–∏—Ñ
3. –û–ø–ª–∞—Ç–∏—Ç–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∏–ª–µ—Ç—ã –≤ –±–æ—Ç–µ

**–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ë–∏–ª–µ—Ç—ã –Ω–∞—á–∏—Å–ª—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —Å–µ–∫—É–Ω–¥! üéâ

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!**
